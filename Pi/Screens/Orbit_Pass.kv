#:kivy 2.0.0
#:import dp kivy.metrics.dp

<Orbit_Pass>:
    name: "orbit_pass"
    # Overall vertical layout: Title, Content (2 cols), Bottom bar
    BoxLayout:
        orientation: "vertical"
        padding: dp(12)
        spacing: dp(8)

        # ───────── Title ─────────
        Label:
            text: "Orbit Pass"
            color: 0,1,0,1
            bold: True
            size_hint_y: None
            height: max(dp(48), root.height * 0.08)
            font_size: max(dp(32), root.height * 0.06)
            halign: "left"
            valign: "middle"
            text_size: self.size

        # ───────── Content (2 columns) ─────────
        GridLayout:
            cols: 2
            spacing: dp(16)
            size_hint_y: 0.83

            # LEFT — pass details
            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(8)

                Label:
                    text: "Next ISS Overflight"
                    bold: True
                    size_hint_y: None
                    height: max(dp(28), root.height * 0.04)
                    font_size: max(dp(20), root.height * 0.035)
                    color: 1,1,1,1)
                    halign: "left"
                    valign: "middle"
                    text_size: self.size

                Label:
                    text: root.pass_date_local
                    size_hint_y: None
                    height: max(dp(24), root.height * 0.035)
                    font_size: max(dp(18), root.height * 0.03)
                    color: 0.8,0.8,0.8,1
                    halign: "left"
                    valign: "middle"
                    text_size: self.size

                GridLayout:
                    cols: 2
                    row_force_default: True
                    row_default_height: max(dp(28), root.height * 0.04)
                    spacing: dp(6)
                    size_hint_y: None
                    height: self.minimum_height

                    # helper rule for all row labels
                    # (font scales with row height)
                    Label:
                        text: "Start:"
                        halign: "right"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
                        color: 1,1,1,1
                    Label:
                        id: start_time
                        text: "--:--:--"
                        halign: "left"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
                        color: 1,0,1,1

                    Label:
                        text: "Start Az:"
                        halign: "right"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
                        color: 1,1,1,1
                    Label:
                        id: start_az
                        text: "--"
                        halign: "left"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
                        color: 1,0,1,1

                    Label:
                        text: "Max Time:"
                        halign: "right"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
                        color: 1,1,1,1
                    Label:
                        id: max_time
                        text: "--:--:--"
                        halign: "left"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
                        color: 1,0,1,1

                    Label:
                        text: "Max Elev:"
                        halign: "right"; valign: "middle"
                        text_size: self.size
                        font_size: self.height * 0.6
